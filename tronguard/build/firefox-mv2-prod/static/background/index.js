var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,r,a,o,i){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof n[o]&&n[o],l=s.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,r){if(!l[e]){if(!t[e]){var a="function"==typeof n[o]&&n[o];if(!r&&a)return a(e,!0);if(s)return s(e,!0);if(d&&"string"==typeof e)return d(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}f.resolve=function(r){var a=t[e][1][r];return null!=a?a:r},f.cache={};var c=l[e]=new u.Module(e);t[e][0].call(c.exports,f,c,c.exports,this)}return l[e].exports;function f(e){var t=f.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=l,u.parent=s,u.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return n[o]}}),n[o]=u;for(var c=0;c<r.length;c++)u(r[c]);if(a){var f=u(a);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof e&&e.amd?e(function(){return f}):i&&(this[i]=f)}}({frrV4:[function(e,t,r){e("../../../background")},{"../../../background":"dTCXu"}],dTCXu:[function(e,t,r){let a={},o={},i={};browser.webRequest.onBeforeRequest.addListener(function(e){-1!==e.tabId&&e.originUrl&&new URL(e.url).hostname!==new URL(e.originUrl).hostname&&(a[e.tabId]||(a[e.tabId]={}),a[e.tabId][e.url]=(a[e.tabId][e.url]||0)+1)},{urls:["<all_urls>"]}),browser.webRequest.onHeadersReceived.addListener(function(e){if(-1!==e.tabId){let t=new URL(e.url),r=e.initiator&&!e.initiator.endsWith(t.hostname),a=r?"thirdParty":"firstParty",i=r?"thirdPartyDetails":"firstPartyDetails";o[e.tabId]||(o[e.tabId]={firstParty:0,thirdParty:0,firstPartyDetails:{},thirdPartyDetails:{}}),e.responseHeaders.forEach(t=>{if("set-cookie"===t.name.toLowerCase()){let r=t.value.split("=")[0].trim();o[e.tabId][a]++,o[e.tabId][i][r]?o[e.tabId][i][r]++:o[e.tabId][i][r]=1}})}},{urls:["<all_urls>"]},["responseHeaders"]),browser.runtime.onMessage.addListener(function(e,t,r){let n=t.tab?t.tab.id:e.tabId;switch(e.action){case"get_connections":r({connections:a[n]?a[n]:{}});break;case"get_cookies":let s;r({cookies:(s=o[n])?{firstParty:s.firstParty,thirdParty:s.thirdParty,firstPartyDetails:s.firstPartyDetails,thirdPartyDetails:s.thirdPartyDetails}:{firstParty:0,thirdParty:0,firstPartyDetails:{},thirdPartyDetails:{}}});break;case"get_local_storage":(function(e,t){browser.tabs.executeScript(e,{code:`
      JSON.stringify({
        localStorageCount: Object.keys(localStorage).length,
        sessionStorageCount: Object.keys(sessionStorage).length,
        localStorage: Object.entries(localStorage).reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {}),
        sessionStorage: Object.entries(sessionStorage).reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {})
      });
    `}).then(r=>{if(r&&r[0]){let a=JSON.parse(r[0]);i[e]=a,t({data:a})}else t({error:"No data received"})}).catch(r=>{console.error(`Error executing script in tab ${e}:`,r),t({error:r.message})})})(n,r);break;default:console.log("Unknown action:",e.action)}return!0}),browser.tabs.onRemoved.addListener(function(e){delete a[e],delete o[e],delete i[e]}),browser.tabs.onUpdated.addListener(function(e,t,r){"loading"===t.status&&(a[e]={},o[e]={firstParty:0,thirdParty:0,firstPartyDetails:{},thirdPartyDetails:{}},i[e]={})})},{}]},["frrV4"],"frrV4","parcelRequire86da"),globalThis.define=t;